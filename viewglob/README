
                           Viewglob 1.1.0 README
                               March 8, 2005

                Stephen Bach <sjbach@users.sourceforge.net>


INTRODUCTION
------------

Viewglob  is  a utility designed to add a kind of visualization to Bash and
Zsh when used in windowing environments. It has two parts:

     1.   A tool that sits inconspicuously as a layer between a  shell  and
          its X terminal, keeping track of the user's current directory and
          command line.

     2.   A GTK+ display which shows the layouts of pwd and other  directo­
          ries as they are referenced.

The  display  updates dynamically to highlight selected files and potential
name completions, including from shell expansions and  globs  -  hence  the
name.

It  can  also  be used as a surrogate terminal, where keystrokes typed into
the display are passed to the shell. Likewise, files and directories can be
double-clicked to insert their names and/or paths into the terminal.

The website is here:

     http://viewglob.sourceforge.net

The sourceforge listing is here:

     http://sourceforge.net/projects/viewglob/

Feedback is welcome!


NEW IN THIS RELEASE
-------------------

Viewglob now understands the LS_COLORS environment variable used by GNU ls.
Filenames can be coloured  (fg  and  bg),  boldened,  and  underlined.  You
shouldn't have to do anything special to make this work, assuming your sys­
tem is setup to use dircolors already.

If you'd like to disable the LS_COLORS stuff in the display  (but  keep  it
working in your shell), you could use a wrapper script:

     #!/bin/sh
     export LS_COLORS=
     exec viewglob

If  you'd like to use a different colouring scheme for the display than for
ls, you could do something similar:

     #!/bin/sh
     eval `dircolors ~/.vg_colors`
     exec viewglob

And for BSD users:

     #!/bin/sh
     export LS_COLORS='no=00:fi=00:di=01;34:*.tar=01;31:*.tgz=01;31' # etc.
     exec viewglob

On a separate note, the algorithm for the  refocus  shortcut  (C-g <TAB> 
or C-g <ENTER>) has been tweaked to be a little smarter.

INSTALLATION
------------

See  the  file  INSTALL  for generic instructions. This program follows the
./configure && make && make install convention.

PORTABILITY
-----------

Tested on:

     FreeBSD 4.10 with GTK+ 2.4.3
     GNU/Linux (various) with GTK+ 2.4+
     Mac OS X 10.3.5 with fink unstable providing GTK+ 2.4.9 (Viewglob 0.9)

The program has been built with portability in mind, so it should (ha)  run
on most POSIX-compliant systems with minimal fuss. I happily accept patches
for portability issues.

REQUIREMENTS
------------

Viewglob requires a version of Bash (any, as far as I know) and GTK+ 2.4. A
version  of  Zsh  is  also  obviously required if you wish to use Zsh under
Viewglob.

NEW IN PREVIOUS RELEASE 1.0.3
-----------------------------

My biggest issue with Viewglob has always been the awkwardness  of  dealing
with  separate  windows.  As you shuffle around, the display gets separated
from the terminal, and soon you're just using the shell  and  none  of  the
Viewglob.  I considered creating a terminal with an integrated display, but
that feels like giving up.

In my first attempt at combatting this problem I've added a  key  sequence,
C-g  <TAB> or C-g <ENTER> (C-g = Ctrl-G), which will ask the window manager
to refocus the terminal and the display, bringing  them  both  to  the  top
layer.  So  when  you've  got one but not the other, type this sequence and
both will be visible.

This has necessitated a new reliance on Xlib (previously only implied  with
GTK),  which  may  cause  compatibility  issues. If so, please let me know.
Also, whether this feature works or not depends on your window manager.  If
it has implemented a good portion of the EWMH specification you'll probably
be okay.

NEW IN PREVIOUS RELEASE 1.0.2
-----------------------------

If you find the default font sizes in the display are too big /  too  small
in  your  window manager, you can change them with the --font-size-modifier
flag. Passing +2 will increase all fonts by two, passing -2  will  decrease
all  by  two (duh). Hardcores can now keep the font size so small that they
can fit all of /usr/bin in the display at once, if they so choose.

Also, the code managing pseudo terminals has been replaced with  code  from
rxvt,  which  has  been  shown  to improve compatibility. BSD users may now
Ctrl-C to their heart's content.

NEW IN PREVIOUS RELEASE 1.0.1
-----------------------------

It was sometimes inconvenient to  be  in  directories  with  long  listings
because you wouldn't be able to see the listings of other directories with­
out scrolling. There is now an option to list directories in reverse order,
i.e.  the  directory  you reference last appears at the top of the display.
Actually, there are now three ordering modes (used  with  the  flag  --dir-
order):

     ascending
          Directories appear in reverse order.

     ascending-pwd-first
          Directories appear in reverse order, but the current directory is
          always at the top.

     descending
          Classic ordering and the default mode: directories appear in  the
          order  you  reference them (and with the current directory at the
          top).

NEW IN PREVIOUS RELEASE 1.0
---------------------------

The biggest change is the addition of file name  insert  functionality.  If
you  double click a file in the display (or the directory header), its name
will be passed as text to the terminal. Holding shift will  send  the  full
path to the file.

By default Viewglob is in "smart insert" mode. There's more info about that
in the man page.

This release also allows you to type into the display  and  have  the  key­
strokes  passed  to the terminal. This works well in my testing, but let me
know if you're finding that the display doesn't pass something  along  cor­
rectly.  Note  that  navigation keys are captured by the display instead of
being passed on.

Two large issues with FreeBSD (and assumedly the other BSDs  as  well)  are
also fixed. I've been unable to track down the problem with Ctrl-C and SIG­
INT, though; if you are a terminal I/O savvy  BSD  user  willing  to  help,
please get in touch with me.

NEW IN PREVIOUS RELEASE 0.9.1
-----------------------------

First  of all, if you've got a previous installation of Viewglob that's not
from a package manager (i.e. you just ran make && make install), you should
remove it before installing this version. I was incorrectly installing some
binaries to .../share/viewglob  instead  of  .../lib/viewglob,  which  goes
against  the Filesystem Hierarchy Standard. If you've still got the sources
to the old install, a make uninstall should do the job. If not, the  direc­
tory which you want to remove is, by default, /usr/local/share/viewglob.

The  display can now be toggled on and off with the sequence Ctrl-G <SPACE>
(or Ctrl-G Ctrl-<SPACE>). If the display is closed manually,  Viewglob  now
interprets  it  as  toggling off, and doesn't disable itself. A toggled-off
display still follows the state of the shell (i.e.  when  it's  toggled  on
it'll be at the right place).

To  disable  Viewglob  (which you used to be able to do by closing the dis­
play), you can use the sequence Ctrl-G Q (but not  Ctrl-G  Ctrl-Q,  because
that's  too  easy to type accidentally). Disabling a Viewglob shell is non-
recoverable.

When you might want to toggle off the display (C-g <SPACE>):

     -  You're dealing with a directory or a  series  of  directories  that
        have  a lot of files, and the display's refresh time is slowing you
        down.

     -  You need the extra memory (the display's memory footprint is  some­
        times  not  as small as it probably should be); when the display is
        "toggled off", all of its memory is freed.

     -  It's just in the way.

When you might want to disable Viewglob (C-g q):

     -  You just want a regular shell, but you want  to  keep  the  current
        environment.

     -  Maybe  you're  compiling in the background, and your Viewglob shell
        has begun to stutter.

NEW IN PREVIOUS RELEASE 0.9
---------------------------

Preliminary support for zsh has been added. From my testing Viewglob  works
well  with  the  advanced completion features of zsh, but there is a lot of
ground to cover. If you use zsh and find that Viewglob isn't  working  well
at all, please let me know - I'd be mostly interested in seeing your .zshrc
file.

This release also adds the capability to navigate the display from the ter­
minal.  This is done in a way similar to GNU screen's Ctrl-A commands - you
type the control key followed by a direction character.

I've chosen Ctrl-G as Viewglob's control key, because a. the  letter  makes
sense, and b. Ctrl-G is by default just a beeping (i.e. more annoying) ver­
sion of Ctrl-C in most shell configurations, and I don't think  people  use
it. But I could be wrong.

If  you  think this is a bad move, let me know. Making the control key con­
figurable would complicate things, but I'd be willing to go the distance if
there's a reason to do so.

I've tried to accomodate both emacs and vi users for key bindings:

     Down:       j, n, <Down Arrow>

     Up:         k, p, <Up Arrow>

     Page Down:  f, d, <PgDown>

     Page Up:    b, u, <PgUp>

The Ctrl counterparts also work.

